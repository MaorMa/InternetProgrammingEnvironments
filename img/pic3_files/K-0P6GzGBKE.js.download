if (self.CavalryLogger) { CavalryLogger.start_js(["nt+Jk"]); }

__d("SearchPeopleFriendsOf",["fbt","TokenizeUtil","URI"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){"use strict";this.friendsOfUri=a,this.placementStrategy=b.placement_strategy,this.placementParams=b.placement_params,this.triggerStrategy=b.trigger_strategy,this.triggerParams=b.trigger_params}a.prototype.injectInto=function(a,b){"use strict";if(!a||a.length===0||!this.$1(a,b))return;if(a[0].type!=="user")return;b=this.createFindAllFriendsOf(a[0].text,a[0].uid);this.$2(b,a)};a.prototype.$2=function(a,b){"use strict";var c=this.$3(b);if(c==="last"){var d=b.filter(function(a){return a.type==="user"}).length;c=d}b.splice(c,0,a)};a.prototype.$1=function(a,b){"use strict";var c=this.$4(this.triggerStrategy);return c(a,this.triggerParams,b)};a.prototype.$3=function(a){"use strict";var b=this.$4(this.placementStrategy);return b(a,this.placementParams)};a.prototype.$4=function(a){"use strict";return this["$SearchPeopleFriendsOf_"+a]};a.prototype.$5=function(a,b,c){"use strict";return!1};a.prototype.$6=function(a,b,c){"use strict";return!0};a.prototype.$7=function(a,b,c){"use strict";__p&&__p();c=parseInt(b,10);b=0;for(var d=0;d<a.length;d++){var e=a[d];e.type==="user"&&e.index_rank==-1&&b++;if(b>c)return!1}return!0};a.prototype.$8=function(a,c,d){"use strict";__p&&__p();c=parseInt(c,10);d=b("TokenizeUtil").tokenize(d);d=d.map(function(a){return a.toLowerCase()});var e=0;for(var f=0;f<a.length;f++){var g=a[f];if(g.type!=="user"||g.index_rank!=-1)continue;g=b("TokenizeUtil").tokenize(g.text);g=g.map(function(a){return a.toLowerCase()});if(g.length<d.length)continue;var h=!0;for(var i=0;i<d.length-1;i++)if(d[i]!==g[i]){h=!1;break}i=d.length-1;if(h&&g[i].startsWith(d[i])){e++;if(e>=c)return!1}}return!0};a.prototype.$9=function(a,b){"use strict";return"last"};a.prototype.$10=function(a,b){"use strict";return 1};a.prototype.createFindAllFriendsOf=function(a,c){"use strict";a=g._("\u05d7\u05d1\u05e8\u05d9\u05dd \u05e9\u05dc {name}",[g._param("name",a)]);c=new(b("URI"))(this.friendsOfUri).addQueryData({q:"",init:"psm",fofid:c}).toString();return{uid:"people_search",type:"user",text:a,classNames:"seeAllUser",photo:"/images/search_typeahead/people_see_more.png",logType:"grammar",path:c}};e.exports=a}),null);
__d("SearchPeopleSeeMore",["fbt","invariant","TokenizeUtil","URI"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a,b){var c=b.placement,d=b.strategy,e=b.min_users;b=b.query_to_show;this.seeMoreUri=a;this.placement=c;this.strategy=d;this.min_users=e;this.query_to_show=b}a.prototype.injectInto=function(a,b){"use strict";if(!a||a.length===0)return;b=this.$1(a,b);if(!b)return;b=this.createFindAllPeopleResult(b);this.$2(b,a)};a.prototype.$1=function(a,b){"use strict";__p&&__p();if(this.strategy==="disabled")return null;if(a[0].type!=="user")return null;a=a.filter(function(a){return a.type==="user"});if(a.length<this.min_users)return null;else a.length>this.min_users&&(a=a.slice(0,this.min_users));var c,d=a[0];switch(this.strategy){case"all_identical":var e=a.every(function(a){return this.$3(d.text,a.text)}.bind(this));c=e?d.text:null;break;case"top_results_prefix":c=a.reduce(function(a,b){return this.$4(a,b.text)}.bind(this),d.text);break;default:h(0,3956)}return!c?null:this.query_to_show==="common"?c:b};a.prototype.$2=function(a,b){"use strict";if(this.placement==="last"){var c=b.filter(function(a){return a.type==="user"}).length;b.splice(c,0,a)}else{c=parseInt(this.placement,10);b.splice(c,0,a)}};a.prototype.createFindAllPeopleResult=function(a){"use strict";var c=g._({"*":"\u05de\u05e6\u05d0\/\u05d9 \u05d0\u05ea \u05db\u05dc \u05d4\u05d0\u05e0\u05e9\u05d9\u05dd \u05d1\u05e9\u05dd \"{query}\"","1":"\u05de\u05e6\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05d0\u05e0\u05e9\u05d9\u05dd \u05d1\u05e9\u05dd \"{query}\"","2":"\u05de\u05e6\u05d0\u05d9 \u05d0\u05ea \u05db\u05dc \u05d4\u05d0\u05e0\u05e9\u05d9\u05dd \u05d1\u05e9\u05dd \"{query}\"","__vcg":1},[g._param("query",a.toLowerCase())]);a=new(b("URI"))(this.seeMoreUri).addQueryData({q:a,init:"psm"}).toString();return{uid:"people_search",type:"user",text:c,classNames:"seeAllUser",photo:"/images/search_typeahead/people_see_more.png",path:a}};a.prototype.$3=function(a,c){"use strict";if(a===c)return!0;a=b("TokenizeUtil").tokenize(a);var d=b("TokenizeUtil").tokenize(c);return a.length!==d.length?!1:a.every(function(a,b){return a===d[b]})};a.prototype.$4=function(a,c){"use strict";__p&&__p();if(!a||!c)return;if(a===c)return a;a=b("TokenizeUtil").tokenize(a);c=b("TokenizeUtil").tokenize(c);var d=[];for(var e=0;e<a.length&&e<c.length;e++)if(a[e]===c[e])d.push(a[e]);else break;return d.length===0?null:d.join(" ")};e.exports=a}),null);
__d("SearchTypeaheadView",["csx","cx","fbt","Arbiter","ContextualLayerUpdateOnScroll","ContextualTypeaheadView","DOM","FbtResultBase","SearchPeopleFriendsOf","SearchPeopleFriendsOfOptions","SearchPeopleSeeMore","SearchPeopleSeeMoreOptions","URI","goURI","isEmail"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=babelHelpers.inherits(a,b("ContextualTypeaheadView"));j=c&&c.prototype;function a(a,c){"use strict";j.constructor.call(this,a,c),this._peopleSeeMore=new(b("SearchPeopleSeeMore"))(this.getSeeMoreEndpoint("",!0),b("SearchPeopleSeeMoreOptions")),this._peopleFriendsOf=new(b("SearchPeopleFriendsOf"))(this.getSeeMoreEndpoint("",!0),b("SearchPeopleFriendsOfOptions"))}a.prototype.initializeLayer=function(){"use strict";j.initializeLayer.call(this),this.layer.setOffsetY(-1),this.layer.enableBehavior(b("ContextualLayerUpdateOnScroll"))};a.prototype.ignoreClick=function(a){"use strict";a.prevent()};a.prototype.render=function(a,b,c){"use strict";if(!b)return;this._bucketize&&(b=k(b));this.showPeopleSeeMore&&a&&this._peopleSeeMore.injectInto(b,a);this.showPeopleFriendsOf&&a&&this._peopleFriendsOf.injectInto(b,a);b={results:b,value:a};this.inform("finalResultsReordering",b);return j.render.call(this,a,b.results,c)};a.prototype.disableBucketization=function(){"use strict";this._bucketize=!1};a.prototype.buildBuckets=function(a,c){"use strict";__p&&__p();var d=c.length,e=0,f;for(f=0;f<d;++f)c[f].type=="user"&&e++;this._redirectToUsersResultsPage=this.showFilterResults&&e===d;this.setWebSuggLoggingParams(a,c);!a&&this.showFindPeople&&c.unshift(this.buildFindPeople());this._bucketize&&(c=j.buildBuckets.call(this,a,c));a&&this._shouldShowSeeMore&&(c.push(this.buildSeeMore(a,d)),b("isEmail")(a)&&e<1&&c.push(this.buildInvite(a)));return c};a.prototype.buildFindPeople=function(){"use strict";var a=i._({"*":"\u05de\u05e6\u05d0\/\u05d9 \u05d0\u05e0\u05e9\u05d9\u05dd","1":"\u05de\u05e6\u05d0 \u05d0\u05e0\u05e9\u05d9\u05dd","2":"\u05de\u05e6\u05d0\u05d9 \u05d0\u05e0\u05e9\u05d9\u05dd","__vcg":1});return{classNames:"seeAllUser seeAllUserNullState",logType:"grammar",path:this.getSeeMoreEndpoint(null,!0),photo:"/images/search_typeahead/people_see_more.png",text:a,type:"no_header"}};a.prototype.buildSeeMore=function(a,c){"use strict";c=this.getSeeMoreText(a,c);var d="seeMoreV2",e="calltoactionV2",f=b("DOM").create("span",{className:"simpleSearchSeeMoreRowRedesignIcon"});e=b("DOM").create("li",{className:e},[f,b("DOM").create("a",{href:this.getSeeMoreEndpoint(a),rel:"ignore"},[b("DOM").create("span",{className:"text"},[b("DOM").create("span",{className:d},c)])])]);c instanceof b("FbtResultBase")?e.setAttribute("aria-label",c.flattenToArray()):e.setAttribute("aria-label",c);return{uid:"search",node:e,search:!0}};a.prototype.getSeeMoreText=function(a,c){"use strict";if(this.showKeywordResultsPage)return i._("\u05d7\u05e4\u05e9 \u05d0\u05ea {query}",[i._param("query",a)]);if(c<=0)return i._({"*":"\u05d4\u05e6\u05d2\/\u05d4\u05e6\u05d9\u05d2\u05d9 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","1":"\u05d4\u05e6\u05d2 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","2":"\u05d4\u05e6\u05d9\u05d2\u05d9 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","__vcg":1},[i._param("query",a)]);if(this._redirectToUsersResultsPage)return i._("\u05e1\u05e0\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}",[i._param("query",a)]);c=b("DOM").create("b",{},a);return i._({"*":"\u05de\u05e6\u05d0\/\u05d9 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","1":"\u05de\u05e6\u05d0 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","2":"\u05de\u05e6\u05d0\u05d9 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","__vcg":1},[i._param("query",c)])};a.prototype.getSeeMoreSubtext=function(a){"use strict";if(a===0)return i._("\u05d0\u05d9\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05dc\u05d4\u05e6\u05d9\u05d2");return a===1?i._("\u05de\u05e6\u05d9\u05d2 \u05d0\u05ea \u05d4\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d4\u05de\u05d5\u05d1\u05d9\u05dc\u05d5\u05ea"):i._({"*":"\u05de\u05e6\u05d9\u05d2 \u05d0\u05ea {number} \u05d4\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d4\u05de\u05d5\u05d1\u05d9\u05dc\u05d5\u05ea"},[i._param("number",a,[0])])};a.prototype.buildInvite=function(a){"use strict";var c=i._({"*":"\u05d4\u05d6\u05de\u05df\/\u05d4\u05d6\u05de\u05d9\u05e0\u05d9 \u05d0\u05ea {query} \u05dc\u05e4\u05d9\u05d9\u05e1\u05d1\u05d5\u05e7","1":"\u05d4\u05d6\u05de\u05df \u05d0\u05ea {query} \u05dc\u05e4\u05d9\u05d9\u05e1\u05d1\u05d5\u05e7","2":"\u05d4\u05d6\u05de\u05d9\u05e0\u05d9 \u05d0\u05ea {query} \u05dc\u05e4\u05d9\u05d9\u05e1\u05d1\u05d5\u05e7","__vcg":1},[i._param("query",a)]);a=b("DOM").create("li",{className:"calltoaction"},[b("DOM").create("a",{href:this.getInviteEndpoint(a),rel:"ignore"},[b("DOM").create("span",{className:"text"},[b("DOM").create("span",{className:"invite"},[c])])])]);c instanceof b("FbtResultBase")?a.setAttribute("arial-label",c.flattenToArray()):a.setAttribute("aria-label",c);return{uid:"invite",node:a,search:!0}};a.prototype.searchPageQueryData=function(a){"use strict";return babelHelpers["extends"]({q:a},this.queryData||{})};a.prototype.searchPageTypeData=function(a){"use strict";return this._redirectToUsersResultsPage||a?{type:"users"}:{}};a.prototype.select=function(a){"use strict";var c=this.index,d=this.results[c];if(!d||d.type=="header")return;d=this.items[c];c=b("DOM").scry(d,"a")[0];j.select.call(this,a);c&&c.href&&(c.target=="_blank"?window.open(c.href):b("goURI")(c.href))};a.prototype.setSid=function(a){"use strict";this.queryData.tas=a};a.prototype.getSeeMoreEndpoint=function(a,c){"use strict";return new(b("URI"))(this.seeMoreEndpoint).addQueryData(this.searchPageQueryData(a)).addQueryData(this.searchPageTypeData(c)).toString()};a.prototype.getInviteEndpoint=function(a){"use strict";return new(b("URI"))("/invite.php").addQueryData({email_list:a})};a.prototype.show=function(){"use strict";this.isVisible()||(b("Arbiter").inform("layer_shown",{type:"SearchTypeahead"}),this.searchBtns=this.searchBtns||b("DOM").scry(this.typeahead,"button.reDesignedBtn"),this.searchBtns[0]&&CSS.addClass(this.searchBtns[0],"btnSelected"),j.show.call(this))};a.prototype.hide=function(){"use strict";this.isVisible()&&(b("Arbiter").inform("layer_hidden",{type:"SearchTypeahead"}),this.searchBtns=this.searchBtns||b("DOM").scry(this.typeahead,"button.reDesignedBtn"),this.searchBtns[0]&&CSS.matchesSelector(this.searchBtns[0],".btnSelected")&&CSS.removeClass(this.searchBtns[0],"btnSelected"),j.hide.call(this))};a.prototype.getQuerySuggestion=function(a){"use strict";var b=this.results[this.index];b=b&&b.type!="header"?b.text.toLowerCase():"";return b==a.toLowerCase()?"":b};a.prototype.setWebSuggLoggingParams=function(a,b){"use strict";__p&&__p();var c=0,d=0;for(var e=0;e<b.length;e++)if(b[e].type==="websuggestion"){d===0&&(d=e+1);var f="FR"+(e-c)+"AS"+c,g=e+1;b[e].path+="&wssk="+f+"&wssp="+g+"&wspq="+encodeURIComponent(a);b[e].path+="&wssrc="+b[e].websuggestion_source;c++}f="&wssc="+b.length+"-"+a.length+"&wsbp="+c+"-"+d;for(e=0;e<b.length;e++)b[e].type==="websuggestion"&&(b[e].path+=f)};function k(a){var b,c,d,e,f=[],g={};c=a.length;for(b=0;b<c;b++)d=a[b],e=d.render_type||d.type,Object.prototype.hasOwnProperty.call(g,e)||(g[e]=f.length,f.push([])),f[g[e]].push(d);a=[];c=f.length;for(b=0;b<c;++b)d=f[b][0],e=d.render_type||d.type,a=a.concat(f[b]);return a}Object.assign(a.prototype,{_shouldShowSeeMore:!0,_bucketize:!0,queryData:{init:"quick"}});e.exports=a}),null);
__d("HelpSearchTypeaheadView",["cx","fbt","Banzai","CSS","DOM","Form","SearchTypeaheadView","URI","goURI"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("SearchTypeaheadView"));i=c&&c.prototype;function a(a,b){"use strict";i.constructor.call(this,a,b),this.helpPlatformPath=b.helpPlatformPath,this.type=b.type}a.prototype.initializeLayer=function(){"use strict";b("CSS").addClass(this.element,"_52rz"),i.initializeLayer.call(this)};a.prototype.buildBuckets=function(a,b){"use strict";a&&b.length&&b.push(this.buildSeeMore(a,b.length));return b};a.prototype.buildSeeMore=function(a,c){"use strict";c=c>0?h._("\u05d4\u05e6\u05d2 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}",[h._param("query",a)]):h._({"*":"\u05d4\u05e6\u05d2\/\u05d4\u05e6\u05d9\u05d2\u05d9 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","1":"\u05d4\u05e6\u05d2 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","2":"\u05d4\u05e6\u05d9\u05d2\u05d9 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 {query}","__vcg":1},[h._param("query",a)]);c=b("DOM").create("li",{className:"calltoaction"},[b("DOM").create("span",{className:"text"},[b("DOM").create("span",{className:"seeMore"},[c,b("DOM").create("span",{className:"arrow"})])])]);return{node:c,value:a,search:!0}};a.prototype.select=function(a){"use strict";a=this.results[this.index];if(!a)return;var c=a.url,d={helpPlatformPath:this.helpPlatformPath};this.type=="faq"?a.search?(c=new(b("URI"))(this.typeahead_select),c.addQueryData("query",a.value)):(c=new(b("URI"))(c).addQueryData({sr:this.index+1,query:a.user_query}),d.faq_id=a.uid):this.type=="u2u"&&(a.search?(c=new(b("URI"))("/help/community/search").setQueryData({query:a.value}),b("goURI")(c,!1,!1)):b("Banzai").post("help_community:click_into_question",{questionid:a.uid,referer:"typeahead",query:a.user_query,rank:this.index+1}));b("Form").post(c,d,null)};e.exports=a}),null);
__d("SearchTypeaheadCore",["Arbiter","DOM","Event","Input","Keys","Parent","ScriptPath","TypeaheadCore"],(function(a,b,c,d,e,f){__p&&__p();var g,h;g=babelHelpers.inherits(a,b("TypeaheadCore"));h=g&&g.prototype;a.prototype.init=function(a,c,d){"use strict";__p&&__p();h.init.call(this,a,c,d);a=b("Parent").byTag(d,"form");var e=this.reset.bind(this);b("Arbiter").subscribe("pre_page_transition",function(a,b){a=/^\/search/;var c=a.test(b.from.path);a=a.test(b.to.path);c&&!a&&setTimeout(e,0)});if(a){var f=b("DOM").find(a,"input.search_sid_input");b("Event").listen(a,"submit",function(){this.data&&this.data.queryData&&(f.value=this.data.queryData.sid),setTimeout(e,0)}.bind(this),b("Event").Priority.URGENT)}};a.prototype.select=function(){"use strict";this.reset(),this.element.focus(),setTimeout(function(){this.element.blur()}.bind(this),0),b("ScriptPath").setClickPointInfo({click:"Search"})};a.prototype.handleTab=function(a){"use strict";var c=this.view.getQuerySuggestion(this.value);c?(b("Input").setValue(this.element,c),this.checkValue(),a.kill()):h.handleTab.call(this,a)};a.prototype.getSearchType=function(){"use strict";return"regular"};a.prototype.focus=function(){"use strict";h.focus.call(this),(this.getValue().length===0||this.element.getAttribute("singlestate")==="true")&&this.data.fetchNullState(this.getValue())};a.prototype.keyup=function(a){"use strict";if(this.getValue().length===0&&b("Event").getKeyCode(a)===b("Keys").ESC)return;this.getValue().length===0&&this.data.fetchNullState(this.getValue());this.element.setAttribute("singlestate",!1)};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("TypeaheadSearchFilter",["Arbiter"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";var a=this._typeahead,c=a.getView().seeMoreEndpoint;this._subscriptions=[b("Arbiter").subscribe("search/typeahead/updateFilter",function(b,c){c.filter_type=="web"&&(a.getView().queryData.form="FBKBFR"),a.getView().queryData.type=c.filter_type}),b("Arbiter").subscribe("search/typeahead/updateSeeMoreEndpoint",function(b,c){a.getView().seeMoreEndpoint=c}),b("Arbiter").subscribe("page_transition",function(b,d){a.getView().queryData.form&&delete a.getView().queryData.form,delete a.getView().queryData.type,a.getView().seeMoreEndpoint=c},"new")]};a.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(a){a.unsubscribe()}),this._subscriptions=null};Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:SearchFilterTypeaheadBehavior",["TypeaheadSearchFilter"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.initFilters=function(a){a.enableBehavior(b("TypeaheadSearchFilter"))}}),3);
__d("TypeaheadSearchRecorderBasic",["SearchTypeaheadRecorder","emptyFunction"],(function(a,b,c,d,e,f){function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";new(b("SearchTypeaheadRecorder"))(this._typeahead)};Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("legacy:SearchRecorderBasicTypeaheadBehavior",["TypeaheadSearchRecorderBasic"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.searchRecorderBasic=function(a){a.enableBehavior(b("TypeaheadSearchRecorderBasic"))}}),3);
__d("SessionStartSurvey",["AsyncRequest","SubscriptionsHandler","XSearchFacebarSurveyController","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.core=a.getCore(),this.data=a.getData(),this.subscriptionsHandler=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(){"use strict";this.subscriptionsHandler.addSubscriptions(this.data.subscribe("query",function(){this.openSurvey()}.bind(this)))};a.prototype.disable=function(){"use strict";this.subscriptionsHandler.release(),this.request&&this.request.abort()};a.prototype.openSurvey=function(){"use strict";if(this.openedSurvey)return;this.openedSurvey=!0;var a=b("XSearchFacebarSurveyController").getURIBuilder().setString("id",b("getOrCreateDOMID")(this.core.element)).setExists("on_session_start",!0).setString("session_id",this.data.queryData.sid);this.request=new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI());this.request.send()};e.exports=a}),null);
__d("TypeaheadDetectQueryLocale",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._typeahead=a,this._data=a.getData(),this._queryCache={"":this._data.queryCache,ja_JP:{},zh_TW:{}}}a.prototype.enable=function(){"use strict";__p&&__p();this._previousLocale="",this._reset=this._typeahead.subscribe("reset",this._swapQueryCache.bind(this,"")),this._beforeQuery=this._data.subscribe("beforeQuery",function(a,b){a=b.value;if(a===""){this._swapQueryCache("");return}b=null;a=a.charCodeAt(a.length-1);12352<=a&&a<=12543?b="ja_JP":12544<=a&&a<=12735&&(b="zh_TW");this._swapQueryCache(b)}.bind(this))};a.prototype.disable=function(){"use strict";this._swapQueryCache(""),this._data.unsubscribe(this._beforeQuery),this._typeahead.ubsubscribe(this._reset)};a.prototype._swapQueryCache=function(a){"use strict";if(a===null||a===this._previousLocale)return;this._data.queryCache=this._queryCache[a];this._data.setQueryData({query_locale:a});this._previousLocale=a};e.exports=a}),null);
__d("TypeaheadExcludeBootstrapFromQueryCache",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._data=a.getData()}a.prototype.enable=function(){"use strict";this._buildingQueryCache=!1,this._buildQueryCache=this._data.subscribe("buildQueryCache",function(){this._buildingQueryCache=!0}.bind(this)),this._mergeUids=this._data.subscribe("mergeUids",function(a,b){this._buildingQueryCache&&b.local_uids.splice(0,b.local_uids.length)}.bind(this)),this._fetchComplete=this._data.subscribe("fetchComplete",function(){this._buildingQueryCache=!1}.bind(this))};a.prototype.disable=function(){"use strict";this._data.unsubscribe(this._buildQueryCache),this._data.unsubscribe(this._mergeUids),this._data.unsubscribe(this._fetchComplete)};e.exports=a}),null);
__d("TypeaheadRecentSearchUpdater",["Arbiter"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.view=a.getView()}a.prototype.enable=function(){"use strict";this.updaterSubscription=this.view.subscribe("select",function(){b("Arbiter").inform("search/refreshRecentSearchesNullstate",{},"state")})};a.prototype.disable=function(){"use strict";this.view.unsubscribe(this.updaterSubscription)};e.exports=a}),null);
__d("HelpBreadcrumbClickLoggingHelper",["BizClickActionsLogging"],(function(a,b,c,d,e,f){a={_loggingModule:null,_logData:null,setLoggingData:function(a,b){this._loggingModule=a,this._logData=b},setClickListeners:function(a){switch(this._loggingModule){case"fb4b":b("BizClickActionsLogging").clickWithHref(a,null,null,this._logData.view_type,this._logData.creative,null,this._logData.country,this._logData.sales_region,this._logData.locale,"HelpBreadcrumb/click")}}};e.exports=a}),null);
__d("HelpBreadcrumb",["csx","cx","Arbiter","DOM","Event","HelpBreadcrumbClickLoggingHelper","HelpProvider","PageTransitions"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=function(a,c){this.wrapper=a,this.initialized=!1,this.useNav=c,b("Arbiter").subscribe("HelpNav/navState",this.onNavigation.bind(this))};i.create=function(a,b){return new i(a,b)};Object.assign(i.prototype,{breadcrumbFBIDs:[],nav:null,onNavigation:function(a,c){a=c.state;var d=b("DOM").scry(this.wrapper,"a._4ge");this.nav=c.source;this.initialized||(b("Event").listen(d[0],"click",function(a){return this._onBreadcrumbClick(d[0],0,a)}.bind(this)),b("HelpBreadcrumbClickLoggingHelper").setClickListeners(d[0]),this.initialized=!0);for(c=1;c<a.length;c+=1)c<d.length?(b("DOM").setContent(d[c],a[c].n),d[c].href=b("HelpProvider").getNodeHref(a[c])):this._appendBreadcrumb(c,a[c]),this.breadcrumbFBIDs[c]=a[c].f;for(c=a.length;c<d.length;c+=1)b("DOM").remove(d[c].parentNode)},_appendBreadcrumb:function(a,c){c=b("DOM").create("a",{className:"_4ge",href:b("HelpProvider").getNodeHref(c)},c.n);var d=[c,b("DOM").create("span",{className:"_4gf"})];b("Event").listen(d[0],"click",this._onBreadcrumbClick.bind(this,c,a));b("HelpBreadcrumbClickLoggingHelper").setClickListeners(c);b("DOM").appendContent(this.wrapper,b("DOM").create("li",{className:"_4gg"},d))},_onBreadcrumbClick:function(a,c,d){var e=0;c!==0&&(e=this.breadcrumbFBIDs[c]);b("Arbiter").inform("HelpBreadcrumb/click",{link:a,logdetail:e?e:"home"});if(this.useNav){this.nav.goBackTo(c);c===0&&b("PageTransitions").go(b("HelpProvider").getPlatformPath());return d.kill()}return!0}});e.exports=i}),null);
__d("TypeaheadShowLoadingIndicator",["CSS"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";this._subscription=this._typeahead.subscribe("loading",function(a,c){b("CSS").conditionClass(this._typeahead.getElement(),"typeaheadLoading",c.loading),b("CSS").conditionClass(this._typeahead.getView().getElement(),"typeaheadViewLoading",c.loading)}.bind(this))};a.prototype.disable=function(){"use strict";this._typeahead.unsubscribe(this._subscription),this._subscription=null};Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:ShowLoadingIndicatorTypeaheadBehavior",["TypeaheadShowLoadingIndicator"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.showLoadingIndicator=function(a){a.enableBehavior(b("TypeaheadShowLoadingIndicator"))}}),3);
__d("TypeaheadPreventSubmitOnEnterIfEmpty",["Event","Keys"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";var a=this._typeahead.getCore().getElement();this._listener=b("Event").listen(a,"keypress",function(c){b("Event").getKeyCode(c)==b("Keys").RETURN&&(a.value===""&&c.kill())})};a.prototype.disable=function(){"use strict";this._listener.remove(),this._listener=null};e.exports=a}),null);
__d("SearchTypeaheadRenderer",["fbt","BadgeHelper","DOM","Locale","TokenizeUtil","TypeaheadFacepile","UnicodeBidi","URI","WWWBase"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1;function i(a,c){__p&&__p();c=[];var d=a.photos||a.photo;d&&(d instanceof Array?d=b("TypeaheadFacepile").render(d):d=b("DOM").create("img",{alt:"",src:d}),c.push(d));if(a.text){d=a.alias;var e=this.value,f=a.text,j=b("UnicodeBidi").isDirectionRTL(f.toString()),k=b("Locale").isRTL();j=j&&!k?"rtl":!j&&k?"ltr":"";k=[f];d&&b("TokenizeUtil").isQueryMatch(e,d)&&!b("TokenizeUtil").isQueryMatch(e,f)&&k.push(b("DOM").create("span",{className:"alias"},[" \xb7 "+d]));a.is_verified&&k.push(b("BadgeHelper").renderBadge("xsmall","verified"));if(a.badge){k.push(b("DOM").create("span",{className:""}," \xb7 "));e=[a.badge];k.push(b("DOM").create("span",{className:"unSeenPosts"},e))}c.push(b("DOM").create("span",{className:"text",dir:j},k))}if(a.category){f=[a.category];a.is_external&&f.push(b("DOM").create("span",{className:"arrow"}));d=a.message?"preCategory":"category";c.push(b("DOM").create("span",{className:d},f))}a.message&&c.push(b("DOM").create("span",{className:"category"},[a.message]));e=a.subtextOverride||a.subtext;if(e){j=[e];c.push(b("DOM").create("span",{className:"subtext"},j))}k=a.classNames||a.type||"";d=a.is_external?"_blank":"";f=!a.song&&a.path||"";f&&(/^https?\:\/\//.test(f)||(f=b("WWWBase").uri+f.substr(1)),f+=(f.indexOf("?")>0?"&":"?")+"ref=ts&fref=ts");e=b("DOM").create("a",{href:f,rel:"ignore",target:d},c);j=null;if(a.type==="header"){f=null;d=null;a.uid==="recent"?(d=new(b("URI"))("/profile.php"),d.setQueryData({sk:"allactivity",log_filter:"search"}),f=g._("\u05e2\u05e8\u05d9\u05db\u05d4")):a.uid==="pymk"&&(d=new(b("URI"))("/find-friends/browser/"),f=g._("\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc"));d&&(j=b("DOM").create("a",{href:d,className:"typeaheadHeaderRightLink"},f),e.setAttribute("class","typeaheadHeaderLeftLink"),k+=" typeaheadHeader")}c=b("DOM").create("li",{className:k},[e,j]);a.text&&(c.setAttribute("title",a.text),c.setAttribute("aria-label",a.text));this.showupadatedsuggestions&&!h&&(i.className+=" updatedSuggestionRows",h=!0);return c}i.className="search";e.exports=i}),null);
__d("legacy:SearchTypeaheadRenderer",["SearchTypeaheadRenderer"],(function(a,b,c,d,e,f){a.TypeaheadRenderers||(a.TypeaheadRenderers={}),a.TypeaheadRenderers.search=b("SearchTypeaheadRenderer")}),3);